<!doctype <!DOCTYPE html>
<html>
<head>
    <title>Rock, Paper, Scissors</title>
</head>
<body>

    <script>

        let userScore = 0;
        let computerScore = 0;
        let round = 1;
        let message = "";

        /**
         * This function allows the computer to randomly choose between the 
         * three options of rock, paper, or scissors.
         * 
         * */
        function computerPlay() {
            let randomNumber = Math.floor( Math.random() * ( 3 - 1 + 1 ) ) + 1;
            
            if ( randomNumber == 3 ) {
                return "Rock";
            } else if( randomNumber == 2 ) {
                return "Paper";
            } else {
                return "Scissors";
            }
        }

        /**
         * This function checks the player's choice and computer's choice if 
         * either win or lose.
         * **/
        function singleRound( playerSelection, computerSelection ) {
            if ( playerSelection.toLowerCase() === "rock" && computerSelection 
                    === "Paper" && computerSelection != playerSelection ) {
                computerScore++;
                return message = "You Lose! Paper beats Rock";
            }  else if ( playerSelection.toLowerCase() === "paper" && 
                    computerSelection === "Rock" && computerSelection != 
                            playerSelection ) {
                userScore++;
                return message = "You Win! Paper beats Rock";
            } else if ( playerSelection.toLowerCase() === "rock" && 
                    computerSelection === "Scissors" && computerSelection 
                            != playerSelection) {
                computerScore++;
                return message = "You Lose! Scissors beat Rock";
            } else if ( playerSelection.toLowerCase() === "scissors" 
                    && computerSelection === "Rock" && computerSelection 
                            != playerSelection) {
                userScore++;
                return message = "You Win! Scissors beat Rock";
            } else if ( playerSelection.toLowerCase() === "scissors" 
                    && computerSelection === "Paper" && computerSelection 
                            != playerSelection) {
                userScore++;
                return message = "You Win! Scissors beat Paper"; 
            } else if ( playerSelection.toLowerCase() === "paper" 
                    && computerSelection === "Scissors" && computerSelection 
                            != playerSelection) {
                computerScore++;
                return message = "You Lose! Scissors beat Paper";
            } else {
                return message = "It's a tie!";
            }
        }
         
        /** Plays 5 rounds of the game and keeps track of score and round **/
        function game() {

            for ( let x = 1; x <= 5; x++  ) {
                let playerSelection = prompt( "Rock, Paper, or Scissors? " );
                
                if ( playerSelection.toLowerCase() != "rock" && 
                        playerSelection.toLowerCase() != "paper" && 
                                playerSelection.toLowerCase() != "scissors" ) {
                    console.log( "Not a valid input." );
                    break;
                } else {
                    singleRound( playerSelection, computerPlay() );
                    console.log( `Player Score: ${userScore}` );
                    console.log( `Computer Score: ${computerScore}` );
                    console.log( `Round: ${round}` );
                    console.log( `${message}` );
                    round++;
                }
            }

            if ( userScore > computerScore ) {
                console.log( "You win the game!" );
            } else if ( userScore === computerScore ) {
                console.log( "A tied game!" );
            } else {
                console.log( "You lose the game!" );
            }
        }

    </script>
    
</body>
</html>